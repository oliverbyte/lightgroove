services:
  lightgroove:
    build:
      context: ..
      dockerfile: docker/Dockerfile
    image: lightgroove:latest
    container_name: lightgroove
    ports:
      - "5555:5555"
    volumes:
      # Persist configuration files
      - ../config:/app/config
    environment:
      - LIGHTGROOVE_HTTP_PORT=5555
    restart: unless-stopped
    network_mode: host  # Required for ArtNet multicast/broadcast
    # Alternative if host mode is not desired:
    # networks:
    #   - lightgroove-network

# Optional: Bridge network (comment out network_mode: host above to use)
# networks:
#   lightgroove-network:
#     driver: bridge
